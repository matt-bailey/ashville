/* Admin js *//**
 * Custom functions
 *//**
 * Element exists function
 * by Chris Goodchild
 */function renameWidgetTitle(){jQuery(".WidgetAreaEditor").each(function(){var e=jQuery(this).attr("name"),t=e.replace(/([a-z])([A-Z])/g,"$1 $2");jQuery(".usedWidgetsHolder h2",this).text(t)})}function hideWidgetAreaType(){jQuery(".FeatureWidget[id*=SidebarWidgetArea]").each(function(){jQuery(".field[id*=WidgetLayoutType]",this)&&jQuery(".field[id*=WidgetLayoutType]",this).hide()})}function initialiseTinyMCE(){jQuery("#Root_Widgets").exists(function(){tinyMCE.init({mode:"specific_textareas",editor_selector:"textarea",width:"356",theme_advanced_buttons1:"bold,italic,underline,strikethrough,separator,justifyleft,justifycenter,justifyright,justifyfull,separator,bullist,numlist",theme_advanced_buttons2:"outdent,indent,undo,redo,separator,link,unlink,image,cleanup,help,code,hr,removeformat",theme_advanced_buttons3:"formatselect",extended_valid_elements:"img[class|id|src|alt|title|onmouseover|onmouseout|name|usemap]",theme_advanced_blockformats:"p,div,h1,h2,h3,h4,h5,h6,blockquote"})})}function preview(e,t){if(!t.width||!t.height)return;jQuery("#Form_ItemEditForm_X1").val(t.x1);jQuery("#Form_ItemEditForm_Y1").val(t.y1);jQuery("#Form_ItemEditForm_X2").val(t.x2);jQuery("#Form_ItemEditForm_Y2").val(t.y2)}function initialiseImgAreaSelect(){var e=jQuery("#Form_ItemEditForm_X1").val(),t=jQuery("#Form_ItemEditForm_Y1").val(),n=jQuery("#Form_ItemEditForm_X2").val(),r=jQuery("#Form_ItemEditForm_Y2").val();jQuery("#floorplan").imgAreaSelect({x1:e,y1:t,x2:n,y2:r,handles:!0,fadeSpeed:200,parent:".cms-content-fields",onSelectChange:preview})}jQuery.fn.exists=function(e){var t=[].slice.call(arguments,1);this.length&&e.call(this,t);return this};jQuery(document).ready(function(){jQuery(".fancybox-ajax").fancybox({type:"ajax"});renameWidgetTitle();hideWidgetAreaType();initialiseTinyMCE();initialiseImgAreaSelect()});jQuery(document).ajaxStop(function(){renameWidgetTitle();hideWidgetAreaType();initialiseTinyMCE();initialiseImgAreaSelect()});